<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Formularz do sprawdzania poprawności hasła">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sprawdzanie poprawności hasła</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script type="text/javascript">
        function checkPassword() {
            const passHelpElement = document.getElementById('passwordHelp');
            const passElement = document.getElementById('inputPassword');
            const getPass = passElement.value;
            let checkOptionLength = false;
            let checkOptionBigLetter = false;
            let checkOptionSmallLetter = false;
            let checkOptionSpecialSign = false;
            let checkBothPass = false;
            let message = "";

            if (getPass.length < 8) {
                message += "Za krótkie hasło. Min. 8 znaków. <br>";
            } else {
                checkOptionLength = true;
            }
            if (!/(?=.*[A-Z])/.test(getPass)) {
                message += "Min. 1 duża litera.<br>";
            } else {
                checkOptionBigLetter = true;
            }
            if (!/(?=.*[a-z])/.test(getPass)) {
                message += "Min. 1 mała litera.<br>";
            } else {
                checkOptionSmallLetter = true;
            }
            if (!/(?=.*[#$@!%&*?])/.test(getPass)) {
                message += "Min. 1 znak specjalny.<br>";
            } else {
                checkOptionSpecialSign = true;
            }
            passHelpElement.innerHTML = message;

            const passRepeatHelpElement = document.getElementById('passwordHelpRepeat');
            const passRepeatElement = document.getElementById('inputPasswordRepeat');
            const getPassRepeat = passRepeatElement.value;
            let messageRepeat = "";
            if (getPassRepeat != getPass) {
                messageRepeat = "Hasła różnią się od siebie!";
            } else {
                checkBothPass = true;
            }
            passRepeatHelpElement.innerHTML = messageRepeat;

            const submitElement = document.getElementById('submitForm');
            submitElement.disabled = !(checkOptionLength
                && checkOptionBigLetter
                && checkOptionSmallLetter
                && checkOptionSpecialSign
                && checkBothPass);
        }
    </script>
</head>
<body>
<div class="container">
    <p class="h1">Sprawdzanie poprawności hasła</p>
    <form class="row g-3">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <label for="inputPassword" class="form-label">Hasło</label>
            <input type="password" class="form-control" id="inputPassword" placeholder="Wpisz hasło" minlength="8"
                   required onkeyup="checkPassword()">
            <div id="passwordHelp" class="form-text text-danger"></div>
        </div>
        <div class="col-md-3"></div>
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <label for="inputPasswordRepeat" class="form-label">Powtórz hasło</label>
            <input type="password" class="form-control" id="inputPasswordRepeat" placeholder="Powtórz hasło"
                   minlength="8" required onkeyup="checkPassword()">
            <div id="passwordHelpRepeat" class="form-text text-danger"></div>
        </div>
        <div class="col-md-3"></div>

        <div class="col-12 position-relative">
            <button type="submit" class="btn btn-primary position-absolute top-50 start-50" id="submitForm"
                    disabled>
                Rejestruj
            </button>
        </div>
    </form>
</div>
</body>
</html>